# AppStore規アプリ用証明書の準備(2021-01-25時点)
ipaファイルを生成するためには各種証明証が必要となる。

## 証明書の作成
キーチェーンアクセスを起動し、メニューから`認証局に証明書を要求`をクリック
![[Pasted image 20220125151644.png]]

ダイアログが出るので
- ユーザのメールアドレス: developerのメールアドレス  
- 通称: developerの名前  
- CAのメールアドレス:未記入
- 要求の処理
	- ディスクに保存 を選択
	- 鍵ペア情報を指定 にチェック

を記入し、続けるボタンをクリック
![[Pasted image 20220125154247.png]]

保存先を聞かれるので任意の場所を指定する

鍵ペア情報を聞かれるので
- 鍵のサイズ 2048ビット
- アルゴリズム RSA

を選択して続けるをクリック

![[Pasted image 20220125154334.png]]


`CertificateSigningRequest.certSigningRequest`が生成される
![[Pasted image 20220125154438.png]]


## Certificates
https://developer.apple.com/account/resources/certificates/list 
＋ボタンをクリック
![[Pasted image 20220125124830.png]]

Apple Distributionを選択してContinue
![[Pasted image 20220125150640.png]]

Choose Fileにて先ほど作成した`CertificateSigningRequest.certSigningRequest`を選択してContinue
![[Pasted image 20220125141651.png]]

作成が完了するのでDownloadボタンから`distribution.cer`をダウンロード
![[Pasted image 20220125151850.png]]

## Identifiers
https://developer.apple.com/account/resources/identifiers/list
＋ボタンをクリック
![[Pasted image 20220125151930.png]]

App IDsを選択してcontinue
![[Pasted image 20220125123318.png]]

Appを選択してContinue
![[Pasted image 20220125123354.png]]

- Description: アプリの説明を記載
- BundleID
	- `Explicit`を選択
	- アプリに設定したbundleIDを記入
- Capabilitiesアプリに必要な権限をチェック（Maps, pushNotificationsなど）
- App Servicies 必要な権限をチェック（通常は必要ない）

記入が終わったらContinue
![[Pasted image 20220125152645.png]]

確認画面が出て問題なければRegister
![[Pasted image 20220125152047.png]]

一覧に作成した項目が表示されていればOK

## Profiles
Generate a Profile または＋ボタンをクリック
![[Pasted image 20220125141811.png]]

App Storeを選択してContinue
![[Pasted image 20220125141853.png]]

[[AppStore規アプリ用証明書の準備(2021-01-25時点)#Identifiers]]で作成したものを指定
![[Pasted image 20220125152224.png]]

[[AppStore規アプリ用証明書の準備(2021-01-25時点)#Certificates]]で指定したものを指定してContinue
![[Pasted image 20220125152300.png]]

Provisioning Profile Nameに任意の名前を指定してGenerate
![[Pasted image 20220125152342.png]]

## Devices
＋ボタンをクリック
![[Pasted image 20220125142455.png]]

利用したい端末のUDIDを記入しContinue
![[Pasted image 20220125142744.png]]

確認画面が出るのでRegister
![[Pasted image 20220125142818.png]]

完了したのでDone
![[Pasted image 20220125142846.png]]

## 証明書.p12ファイル
（複数端末で動作確認をする場合、以下も行う）
[[AppStore規アプリ用証明書の準備(2021-01-25時点)#Profiles]]でダウンロードしたファイル`***.mobileprovision`をfinderでダブルクリック

チェーンアクセスを再び起動して、先ほど作成した証明書の欄2項目を選択し
右クリック→`2項目を書き出す`をクリック
![[Pasted image 20220125144741.png]]

保存先を指定して保存ボタンをクリック
![[Pasted image 20220125144946.png]]

任意のPW（空白でも可）を設定してOK
![[Pasted image 20220125145011.png]]

指定した保存先に`証明書.p12`ファイルが保存されていれば完了

---
### Related Notes
- 

### References
- https://qiita.com/kaneko77/items/ce918317e94c9f36441f
- https://ameblo.jp/10soba/entry-12500441948.html

### Tags
- `ios`